type Event
  @model
  @auth(rules: [{allow: owner}])
{
  id: ID!
  date: AWSDateTime!
  matches: [Match] @connection(keyName: "byEvent", fields:["id"])
  players: [Player] @connection(keyName: "byEvent", fields:["id"])
  owner: String
}

enum MatchStatus
{
  NEW
  TEAM1WON
  TEAM2WON
  DRAW
}

type Match
  @model
  @auth(rules: [{allow: owner}])
  @key(name: "byEvent", fields: ["eventID"])
{
  id: ID!
  eventID: ID!
  playerIndices: [Int]
  status: MatchStatus
  owner: String
}

type Player
  @model
  @auth(rules: [{allow: owner}])
  @key(name: "byEvent", fields: ["eventID"])
{
  id: ID!
  eventID: ID!
  index: Int!
  name: String
  owner: String
}